{% extends 'core/base.html' %}
{% load static %}
{% block title %}Home - NGO Management System{% endblock %}

{% block content %}
<div class="bg-gray-50 dark:bg-gray-900 min-h-screen font-sans transition-colors duration-300">
  <!-- Header -->
  <header class="bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50 transition-colors duration-300">
    <nav class="container mx-auto px-4 sm:px-6 py-3 flex justify-between items-center">
      <a href="{% url 'home' %}" class="flex items-center space-x-2">
        <div class="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center">
          {% load static %}
          <img src="{% static 'images/logo-icon.png' %}" 
               alt="BrightFutures Logo" 
               class="w-8 h-8 sm:w-10 sm:h-10 object-contain"
               onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <!-- Fallback SVG if image doesn't exist -->
          <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all hover:scale-105 hidden">
            <svg class="w-5 h-5 sm:w-7 sm:h-7 text-white" viewBox="0 0 24 24" fill="currentColor">
              <!-- Open book with heart -->
              <path d="M12 6.5C10.5 5.2 8.5 4.5 6.5 4.5c-1.1 0-2.2.3-3.1.8L2 6v12c1.5.5 3.2.8 5 1 1.8-.2 3.5-.5 5-1V6.5zm0 0c1.5 1.3 3.5 2 5.5 2 1.1 0 2.2-.3 3.1-.8L22 6v12c-1.5.5-3.2.8-5 1-1.8-.2-3.5-.5-5-1V6.5z"/>
              <path d="M12 9.5c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
              <path d="M10 8c0 .6.4 1 1 1s1-.4 1-1-.4-1-1-1-1 .4-1 1z"/>
            </svg>
          </div>
        </div>
        <span class="text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 tracking-wide">BrightFutures</span>
      </a>
      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-4">
        {% if admin_authenticated %}
          <!-- Admin Logged In -->
          <div class="flex items-center space-x-4">
            <button onclick="toggleDarkMode()" class="p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300" title="Toggle dark mode">
              <span class="dark-mode-icon">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                </svg>
              </span>
            </button>
            <span class="text-gray-700 dark:text-gray-300 font-medium">Welcome, <span class="text-blue-600 dark:text-blue-400 font-semibold">{{ admin_name|default:"Admin" }}</span>!</span>
            <a href="{% url 'admin_dashboard' %}" class="bg-blue-600 dark:bg-blue-700 text-white px-4 py-2 rounded-full hover:bg-blue-700 dark:hover:bg-blue-600 transition duration-300 transform hover:scale-105 shadow-sm text-sm">Admin Dashboard</a>
            <a href="{% url 'admin_logout' %}" class="text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 font-medium">Logout</a>
          </div>
        {% elif donor_authenticated %}
          <!-- Donor Logged In -->
          <div class="flex items-center space-x-4">
            <button onclick="toggleDarkMode()" class="p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300" title="Toggle dark mode">
              <span class="dark-mode-icon">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                </svg>
              </span>
            </button>
            <span class="text-gray-700 dark:text-gray-300 font-medium">Welcome, <span class="text-blue-600 dark:text-blue-400 font-semibold">{{ donor_name|default:"Donor" }}</span>!</span>
            <a href="{% url 'donor_dashboard' %}" class="bg-blue-600 dark:bg-blue-700 text-white px-4 py-2 rounded-full hover:bg-blue-700 dark:hover:bg-blue-600 transition duration-300 transform hover:scale-105 shadow-sm text-sm">My Dashboard</a>
            <a href="{% url 'donor_logout' %}" class="text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 font-medium">Logout</a>
          </div>
        {% else %}
          <!-- Not Logged In -->
          <button onclick="toggleDarkMode()" class="p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300" title="Toggle dark mode">
            <span class="dark-mode-icon">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
              </svg>
            </span>
          </button>
          <a href="{% url 'donor_registration' %}" class="bg-blue-600 dark:bg-blue-700 text-white px-6 py-2 rounded-full hover:bg-blue-700 dark:hover:bg-blue-600 transition duration-300 transform hover:scale-105 shadow-sm">Register as Donor</a>
          <a href="{% url 'donor_login' %}" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium">Donor Login</a>
          <a href="{% url 'admin_login' %}" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium">Admin Login</a>
        {% endif %}
      </div>
      <!-- Mobile Menu Button -->
      <button onclick="toggleMobileNav()" class="md:hidden p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-300" aria-label="Toggle menu">
        <svg id="mobileMenuIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
      <!-- Mobile Navigation Menu -->
      <div id="mobileNav" class="hidden md:hidden fixed top-16 left-0 right-0 bg-white dark:bg-gray-800 shadow-lg z-50 border-t border-gray-200 dark:border-gray-700">
        <div class="container mx-auto px-4 py-4 space-y-3">
          {% if admin_authenticated %}
            <a href="{% url 'admin_dashboard' %}" class="block px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg text-center font-medium">Admin Dashboard</a>
            <a href="{% url 'admin_logout' %}" class="block px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-center">Logout</a>
          {% elif donor_authenticated %}
            <a href="{% url 'donor_dashboard' %}" class="block px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg text-center font-medium">My Dashboard</a>
            <a href="{% url 'donor_logout' %}" class="block px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-center">Logout</a>
          {% else %}
            <a href="{% url 'donor_registration' %}" class="block px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg text-center font-medium">Register as Donor</a>
            <a href="{% url 'donor_login' %}" class="block px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-center">Donor Login</a>
            <a href="{% url 'admin_login' %}" class="block px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-center">Admin Login</a>
          {% endif %}
          <button onclick="toggleDarkMode()" class="w-full px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-center">
            <span class="dark-mode-icon inline-block"></span> Toggle Dark Mode
          </button>
        </div>
      </div>
    </nav>
  </header>

  <!-- Low Funds Alert Banner -->
  {% if not admin_authenticated and not donor_authenticated %}
  <div class="container mx-auto px-4 sm:px-6 mt-4 sm:mt-6 mb-4 sm:mb-6">
    <div class="bg-gradient-to-r from-red-500 via-red-600 to-orange-500 text-white py-3 sm:py-4 px-4 sm:px-6 shadow-lg rounded-full sm:rounded-full overflow-hidden relative">
      <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer rounded-full"></div>
      <div class="relative z-10">
        <div class="flex items-center gap-3 sm:gap-6">
          <!-- Warning Icon -->
          <div class="flex-shrink-0 animate-pulse">
            <svg class="w-5 h-5 sm:w-7 sm:h-7 text-white" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
            </svg>
          </div>
          
          <!-- Scrolling Message -->
          <div class="flex-1 overflow-hidden">
            <div class="marquee-container">
              <div class="marquee-content">
                <span class="font-bold text-sm sm:text-lg mr-4 sm:mr-8">URGENT: We Need Your Support!</span>
                <span class="text-xs sm:text-base mr-4 sm:mr-8">
                  {% if funds_low %}
                    {% if available_funds < 0 %}
                      We're currently operating with insufficient funds. Every donation counts and helps us continue providing free education to children in need.
                    {% else %}
                      Our available funds are running low. Your generous contribution can help us continue supporting children's education and dreams.
                    {% endif %}
                  {% else %}
                    Your generous contribution helps us continue providing free education to children in need. Every donation makes a difference!
                  {% endif %}
                </span>
                <span class="font-bold text-lg mr-8">Donate Now to Make a Difference!</span>
                <span class="text-base mr-8">
                  {% if funds_low %}
                    {% if available_funds < 0 %}
                      We're currently operating with insufficient funds. Every donation counts and helps us continue providing free education to children in need.
                    {% else %}
                      Our available funds are running low. Your generous contribution can help us continue supporting children's education and dreams.
                    {% endif %}
                  {% else %}
                    Your generous contribution helps us continue providing free education to children in need. Every donation makes a difference!
                  {% endif %}
                </span>
              </div>
            </div>
          </div>
          
          <!-- Donate Button -->
          <a href="{% url 'donate' %}" class="bg-white text-red-600 px-4 sm:px-6 py-2 rounded-full font-bold hover:bg-gray-100 transition-all shadow-lg transform hover:scale-110 hover:shadow-xl whitespace-nowrap flex-shrink-0 z-20 text-sm sm:text-base">
            Donate Now
          </a>
        </div>
      </div>
    </div>
  </div>
  
  <style>
    @keyframes marquee {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-50%);
      }
    }
    
    @keyframes shimmer {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(100%);
      }
    }
    
    .marquee-container {
      overflow: hidden;
      white-space: nowrap;
      width: 100%;
    }
    
    .marquee-content {
      display: inline-block;
      animation: marquee 30s linear infinite;
      white-space: nowrap;
    }
    
    .marquee-content:hover {
      animation-play-state: paused;
    }
    
    .animate-shimmer {
      animation: shimmer 3s infinite;
    }
  </style>
  {% endif %}

  <!-- Hero Section -->
  <main>
    <section class="relative">
        <div class="container mx-auto px-6 py-24 flex flex-col md:flex-row items-center gap-12">
            <div class="md:w-1/2 text-center md:text-left">
                <h1 class="text-5xl lg:text-6xl font-extrabold text-gray-900 dark:text-gray-100 leading-tight">
                    Where Every Child's Dream <br class="hidden md:block"/> <span class="text-blue-600 dark:text-blue-400">Finds a Chance</span>
                </h1>
                <p class="mt-6 text-lg text-gray-600 dark:text-gray-300 max-w-xl mx-auto md:mx-0">
                    We believe in a world where every child has the opportunity to succeed. Join us in providing free, quality education to underprivileged children and help break the cycle of poverty.
                </p>
                <div class="mt-8 flex flex-col sm:flex-row justify-center md:justify-start gap-4">
                    <a href="{% url 'donate' %}" class="bg-blue-600 dark:bg-blue-700 text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-blue-700 dark:hover:bg-blue-600 transition-transform transform hover:scale-105 shadow-lg">Support Our Mission</a>
                    <a href="#about" class="bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 px-8 py-3 rounded-full text-lg font-semibold hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors shadow-lg border border-gray-200 dark:border-gray-700">Learn More</a>
                </div>
            </div>
            <div class="md:w-1/2 flex justify-center items-center mt-10 md:mt-0">
                 <div class="w-full max-w-md flex items-center justify-center relative">
                    <!-- Image Carousel -->
                    <div id="image-carousel" class="relative w-full h-auto rounded-3xl shadow-2xl overflow-hidden">
                        <!-- Carousel Container with slide effect -->
                        <div class="carousel-track flex transition-transform duration-500 ease-in-out" style="transform: translateX(0%);">
                            <!-- Image 1: Beautiful children with peace signs - Primary Image -->
                            <div class="carousel-slide min-w-full">
                                <img src="{% static 'images/carousel-main.jpg' %}" 
                                     alt="Happy children with joyful smiles and peace signs" 
                                     class="w-full h-auto object-cover rounded-3xl"
                                     onerror="this.src='https://images.unsplash.com/photo-1509062522246-3755977927d7?w=800&h=600&fit=crop&q=80'">
                            </div>
                            <!-- Image 2: Children reading books with joyful expressions -->
                            <div class="carousel-slide min-w-full">
                                <img src="https://images.unsplash.com/photo-1497486751825-1233686d5d80?w=800&h=600&fit=crop&q=80" 
                                     alt="Happy children reading books with bright smiles" 
                                     class="w-full h-auto object-cover rounded-3xl">
                            </div>
                            <!-- Image 3: Children with educational materials, happy faces -->
                            <div class="carousel-slide min-w-full">
                                <img src="https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=800&h=600&fit=crop&q=80" 
                                     alt="Happy children with educational materials and joyful expressions" 
                                     class="w-full h-auto object-cover rounded-3xl">
                            </div>
                            <!-- Image 4: Diverse children studying together happily -->
                            <div class="carousel-slide min-w-full">
                                <img src="https://images.unsplash.com/photo-1588072432836-e10032774350?w=800&h=600&fit=crop&q=80" 
                                     alt="Diverse children studying together with happy faces" 
                                     class="w-full h-auto object-cover rounded-3xl">
                            </div>
                            <!-- Image 5: Children in classroom with beaming smiles -->
                            <div class="carousel-slide min-w-full">
                                <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800&h=600&fit=crop&q=80" 
                                     alt="Happy children in classroom with beaming smiles" 
                                     class="w-full h-auto object-cover rounded-3xl">
                            </div>
                        </div>
                        
                        <!-- Left Arrow Button -->
                        <button id="carousel-prev" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 rounded-full p-2 shadow-lg transition-all z-20">
                            <svg class="w-6 h-6 text-gray-800 dark:text-gray-100" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        
                        <!-- Right Arrow Button -->
                        <button id="carousel-next" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 rounded-full p-2 shadow-lg transition-all z-20">
                            <svg class="w-6 h-6 text-gray-800 dark:text-gray-100" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </button>
                        
                        <!-- Carousel Indicators -->
                        <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10">
                            <button class="carousel-dot w-2 h-2 rounded-full bg-white dark:bg-gray-300 opacity-75 hover:opacity-100 transition-opacity shadow-md" data-index="0"></button>
                            <button class="carousel-dot w-2 h-2 rounded-full bg-white dark:bg-gray-300 opacity-50 hover:opacity-100 transition-opacity shadow-md" data-index="1"></button>
                            <button class="carousel-dot w-2 h-2 rounded-full bg-white dark:bg-gray-300 opacity-50 hover:opacity-100 transition-opacity shadow-md" data-index="2"></button>
                            <button class="carousel-dot w-2 h-2 rounded-full bg-white dark:bg-gray-300 opacity-50 hover:opacity-100 transition-opacity shadow-md" data-index="3"></button>
                            <button class="carousel-dot w-2 h-2 rounded-full bg-white dark:bg-gray-300 opacity-50 hover:opacity-100 transition-opacity shadow-md" data-index="4"></button>
                        </div>
                    </div>
                 </div>
            </div>
      </div>
    </section>

    <!-- About Us Section -->
    <section id="about" class="bg-white dark:bg-gray-800 py-20 transition-colors duration-300">
      <div class="container mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-gray-800 dark:text-gray-100">Our Mission</h2>
        <div class="mt-4 w-24 h-1 bg-blue-600 dark:bg-blue-500 mx-auto"></div>
        <p class="mt-6 text-lg md:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed">
          Our mission is to ensure every child has access to quality education, regardless of their background. We provide books, uniforms, meals, and a safe learning environment to help them thrive and build a better tomorrow for themselves and their communities. We are committed to transparency and ensuring that every donation makes a direct impact on a child's life.
        </p>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section class="py-20 bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
      <div class="container mx-auto px-6">
        <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-gray-100 mb-4">What People Say About Us</h2>
        <div class="mt-4 w-24 h-1 bg-blue-600 dark:bg-blue-500 mx-auto mb-12"></div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Testimonial 1 -->
          <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
            <div class="flex items-center mb-4">
              <div class="flex-shrink-0">
                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&q=80" 
                     alt="Rajesh Kumar" 
                     class="w-16 h-16 rounded-full object-cover border-4 border-blue-100">
              </div>
              <div class="ml-4">
                <h4 class="text-lg font-semibold text-gray-800 dark:text-gray-100">Rajesh Kumar</h4>
                <p class="text-sm text-gray-600 dark:text-gray-400">Software Engineer, Bangalore</p>
              </div>
            </div>
            <div class="flex mb-3">
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
            </div>
            <p class="text-gray-700 dark:text-gray-300 italic leading-relaxed">
              "BrightFutures has truly transformed the lives of children in our community. The transparency and dedication shown by the organization is remarkable. I've seen firsthand how education has empowered these young minds."
            </p>
          </div>

          <!-- Testimonial 2 -->
          <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
            <div class="flex items-center mb-4">
              <div class="flex-shrink-0">
                <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&q=80" 
                     alt="Priya Sharma" 
                     class="w-16 h-16 rounded-full object-cover border-4 border-blue-100 dark:border-blue-800">
              </div>
              <div class="ml-4">
                <h4 class="text-lg font-semibold text-gray-800 dark:text-gray-100">Priya Sharma</h4>
                <p class="text-sm text-gray-600 dark:text-gray-400">Teacher, Delhi</p>
              </div>
            </div>
            <div class="flex mb-3">
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
            </div>
            <p class="text-gray-700 dark:text-gray-300 italic leading-relaxed">
              "As a teacher, I've witnessed the incredible impact of BrightFutures on my students. The resources provided and the support given to underprivileged children is truly commendable. Every child deserves quality education."
            </p>
          </div>

          <!-- Testimonial 3 -->
          <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
            <div class="flex items-center mb-4">
              <div class="flex-shrink-0">
                <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&q=80" 
                     alt="Amit Patel" 
                     class="w-16 h-16 rounded-full object-cover border-4 border-blue-100 dark:border-blue-800">
              </div>
              <div class="ml-4">
                <h4 class="text-lg font-semibold text-gray-800 dark:text-gray-100">Amit Patel</h4>
                <p class="text-sm text-gray-600 dark:text-gray-400">Business Owner, Mumbai</p>
              </div>
            </div>
            <div class="flex mb-3">
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
            </div>
            <p class="text-gray-700 dark:text-gray-300 italic leading-relaxed">
              "I've been supporting BrightFutures for the past two years, and I'm amazed by their commitment and transparency. The children's progress reports and regular updates make me confident that my contributions are making a real difference."
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Impact Section -->
    <section class="py-20 bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-gray-100 mb-12">Our Impact In Numbers</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 text-center">
                <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-blue-600 dark:text-blue-400 text-5xl font-extrabold">1,200+</div>
                    <p class="mt-2 text-gray-600 dark:text-gray-300 font-semibold text-lg">Students Educated</p>
                </div>
                <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-blue-600 dark:text-blue-400 text-5xl font-extrabold">50+</div>
                    <p class="mt-2 text-gray-600 dark:text-gray-300 font-semibold text-lg">Schools Supported</p>
                </div>
                <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-blue-600 dark:text-blue-400 text-5xl font-extrabold">5,000+</div>
                    <p class="mt-2 text-gray-600 dark:text-gray-300 font-semibold text-lg">Donors Worldwide</p>
                </div>
            </div>
        </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 dark:bg-gray-950 text-white py-8 transition-colors duration-300">
    <div class="container mx-auto px-6">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        <!-- Contact Info on the left -->
        <div class="flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-6">
          <!-- Email -->
          <div class="flex items-center space-x-2">
            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <a href="mailto:contact@brightfutures.org" class="text-gray-300 hover:text-white transition-colors">
              contact@brightfutures.org
            </a>
          </div>
          <!-- Phone Number -->
          <div class="flex items-center space-x-2">
            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
            <a href="tel:+919876543210" class="text-gray-300 hover:text-white transition-colors">
              +91 98765 43210
            </a>
          </div>
        </div>
        
        <!-- Copyright in center -->
        <div class="text-center">
          <p>&copy; {{ current_year }} BrightFutures. All rights reserved.</p>
        </div>
        
        <!-- Social Media Icons on the right -->
        <div class="flex items-center space-x-4">
          <span class="text-gray-300 text-sm mr-2">Follow us:</span>
          <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Facebook">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
          <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Twitter">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
            </svg>
          </a>
          <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="Instagram">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
            </svg>
          </a>
          <a href="#" class="text-gray-400 hover:text-white transition-colors" aria-label="LinkedIn">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </footer>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const track = document.querySelector('.carousel-track');
    const slides = document.querySelectorAll('.carousel-slide');
    const dots = document.querySelectorAll('.carousel-dot');
    const prevBtn = document.getElementById('carousel-prev');
    const nextBtn = document.getElementById('carousel-next');
    const carouselContainer = document.getElementById('image-carousel');
    
    let currentIndex = 0;
    const totalSlides = slides.length;
    const rotationInterval = 12000; // 12 seconds - fixed interval
    let carouselInterval;
    let isTransitioning = false;
    let isPaused = false;

    // Swipe detection variables
    let startX = 0;
    let startY = 0;
    let isDragging = false;
    let currentTranslate = 0;
    let prevTranslate = 0;

    function updateCarousel(index) {
        if (isTransitioning) return;
        
        isTransitioning = true;
        currentIndex = index;
        const translateX = -currentIndex * 100;
        
        track.style.transform = `translateX(${translateX}%)`;
        
        // Update dots
        dots.forEach((dot, i) => {
            if (i === index) {
                dot.classList.remove('opacity-50');
                dot.classList.add('opacity-75');
            } else {
                dot.classList.add('opacity-50');
                dot.classList.remove('opacity-75');
            }
        });
        
        // Reset transitioning flag after animation
        setTimeout(() => {
            isTransitioning = false;
        }, 500);
    }

    function nextSlide() {
        if (isTransitioning) return;
        currentIndex = (currentIndex + 1) % totalSlides;
        updateCarousel(currentIndex);
    }

    function prevSlide() {
        if (isTransitioning) return;
        // Smooth circular navigation - goes from first to last without showing all images
        currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
        updateCarousel(currentIndex);
    }

    function goToSlide(index) {
        if (isTransitioning) return;
        currentIndex = index;
        updateCarousel(currentIndex);
        resetInterval();
    }

    function startAutoRotate() {
        // Clear any existing interval
        clearInterval(carouselInterval);
        
        // Start new interval that checks conditions before advancing
        carouselInterval = setInterval(() => {
            // Only auto-advance if not paused, not dragging, and not transitioning
            if (!isPaused && !isDragging && !isTransitioning) {
                nextSlide();
            }
        }, rotationInterval);
    }

    function resetInterval() {
        // Always reset the interval when manually interacting
        startAutoRotate();
    }

    // Touch/Mouse swipe handlers
    function getEventX(e) {
        return e.touches ? e.touches[0].clientX : e.clientX;
    }

    function getEventY(e) {
        return e.touches ? e.touches[0].clientY : e.clientY;
    }

    // Start drag/swipe
    carouselContainer.addEventListener('mousedown', startDrag);
    carouselContainer.addEventListener('touchstart', startDrag);

    function startDrag(e) {
        if (isTransitioning) return;
        startX = getEventX(e);
        startY = getEventY(e);
        isDragging = true;
        prevTranslate = currentTranslate;
        currentTranslate = 0;
        
        track.style.transition = 'none';
        // Pause auto-rotate while dragging
        isPaused = true;
        clearInterval(carouselInterval);
        
        carouselContainer.style.cursor = 'grabbing';
        
        // Prevent default only on touch to avoid scrolling issues
        if (e.touches) {
            e.preventDefault();
        }
    }

    // During drag/swipe
    carouselContainer.addEventListener('mousemove', drag);
    carouselContainer.addEventListener('touchmove', drag);

    function drag(e) {
        if (!isDragging) return;
        
        const currentX = getEventX(e);
        const currentY = getEventY(e);
        const diffX = currentX - startX;
        const diffY = Math.abs(currentY - startY);
        
        // Only swipe horizontally if horizontal movement is greater than vertical
        if (Math.abs(diffX) > diffY && Math.abs(diffX) > 5) {
            e.preventDefault();
            e.stopPropagation();
            currentTranslate = prevTranslate + diffX;
            track.style.transform = `translateX(${currentTranslate}px)`;
        }
    }

    // End drag/swipe
    carouselContainer.addEventListener('mouseup', endDrag);
    carouselContainer.addEventListener('mouseleave', endDrag);
    carouselContainer.addEventListener('touchend', endDrag);

    function endDrag(e) {
        if (!isDragging) return;
        
        const movedBy = currentTranslate - prevTranslate;
        const threshold = 50; // Minimum swipe distance
        
        isDragging = false;
        carouselContainer.style.cursor = 'grab';
        
        // Only trigger swipe if moved enough
        if (Math.abs(movedBy) > threshold) {
            if (movedBy > 0) {
                // Swiped right - go to previous
                prevSlide();
            } else {
                // Swiped left - go to next
                nextSlide();
            }
        }
        
        // Reset position and restore transition
        currentTranslate = 0;
        prevTranslate = 0;
        track.style.transition = 'transform 0.5s ease-in-out';
        
        // Update to current index (in case we didn't swipe enough)
        if (Math.abs(movedBy) <= threshold) {
            track.style.transform = `translateX(${-currentIndex * 100}%)`;
        } else {
            updateCarousel(currentIndex);
        }
        
        // Resume auto-rotate after swipe completes
        isPaused = false;
        setTimeout(() => {
            resetInterval();
        }, 600);
    }

    // Arrow buttons - both work with circular navigation
    prevBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        prevSlide();
        resetInterval();
    });

    nextBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        nextSlide();
        resetInterval();
    });

    // Dot navigation
    dots.forEach((dot, index) => {
        dot.addEventListener('click', (e) => {
            e.stopPropagation();
            goToSlide(index);
        });
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') {
            prevSlide();
            resetInterval();
        } else if (e.key === 'ArrowRight') {
            nextSlide();
            resetInterval();
        }
    });

    // Pause on hover (optional - you can remove this if you want continuous auto-swiping)
    carouselContainer.addEventListener('mouseenter', () => {
        isPaused = true;
        clearInterval(carouselInterval);
    });

    carouselContainer.addEventListener('mouseleave', () => {
        isPaused = false;
        resetInterval();
    });

    // Initialize
    updateCarousel(0);
    // Start auto-rotation immediately - this ensures continuous auto-swiping
    isPaused = false;
    startAutoRotate();
    carouselContainer.style.cursor = 'grab';
    });
    
    // Mobile navigation toggle
    function toggleMobileNav() {
      const nav = document.getElementById('mobileNav');
      const icon = document.getElementById('mobileMenuIcon');
      if (nav && icon) {
        const isOpen = !nav.classList.contains('hidden');
        if (isOpen) {
          nav.classList.add('hidden');
          icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>';
        } else {
          nav.classList.remove('hidden');
          icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>';
        }
      }
    }
    
    // Close mobile nav on window resize
    window.addEventListener('resize', function() {
      if (window.innerWidth >= 768) {
        const nav = document.getElementById('mobileNav');
        if (nav) nav.classList.add('hidden');
      }
    });
</script>
{% endblock %}

